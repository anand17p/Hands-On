CREATE TABLE electricity_bill_database . electricity_connection_type(id INT(11),connection_name VARCHAR(20));
CREATE TABLE electricity_bill_database .slab(id INT(11),connection_name VARCHAR(20),from_uit INT(11),to_unit INT(11),rate DOUBLE);
CREATE TABLE electricity_bill_database .building_type(id INT(11),name VARCHAR(20),connection_type_id INT(11));
CREATE TABLE electricity_bill_database  .building(id INT(11),owner_name VARCHAR(100),address VARCHAR(100),building_type_id INT(11),contact_number VARCHAR(100),email_address VARCHAR(100));
CREATE TABLE electricity_bill_database . meter(id INT(11),meter_number VARCHAR(20),building_id INt(11));
CREATE TABLE electricity_bill_database . bill(id INT(11),meter_id INT(11),month INT(11),year INT(11),due_date DATE,total_units INT(11),payable_amount DOUBLE,is_payed TINYINT(1),payment_date DATE,fine_amount DOUBLE);
CREATE TABLE electricity_bill_database . electricity_reading(id INT(11),meter_id INT(11),day DATE,h1 INT(11),h2 INT(11),h3 INT(11),h4 INT(11),h5 INT(11),h6 INT(11),h7 INT(11),h8 INT(11),h9 INT(11),h10 INT(11),h11 INT(11),h12 INT(11),h13 INT(11),h14 INT(11),h15 INT(11),h16 INT(11),h17 INT(11),h18 INT(11),h19 INT(11),h20 INT(11),h21 INT(11),h22 INT(11),h23 INT(11),h24 INT(11),total_units INt(11));
DESC building;
DESC electricity_reading;
ALTER TABLE building CHANGE owner_name building_owner_name VARCHAR(100) ;
ALTER TABLE building CHANGE address address VARCHAR(255) ;
RENAME TABLE building to building_details;
DESC building_details;
INSERT INTO electricity_connection_type(id ,connection_name ) VALUES(1,"3 phase");
INSERT INTO electricity_connection_type(id ,connection_name ) VALUES(2,"1 phase");
SELECT * FROM electricity_connection_type;
INSERT INTO slab(id,connection_name,from_uit,to_unit,rate) VALUES(1,"3 phase",0,50,100);
INSERT INTO slab(id,connection_name,from_uit,to_unit,rate) VALUES(2,"1 phase",0,100,70);
INSERT INTO slab(id,connection_name,from_uit,to_unit,rate) VALUES(3,"3 phase",0,100,200);
UPDATE slab SET  from_uit=1 WHERE from_uit=0;
SELECT * FROM slab;
INSERT INTO building_type(id ,name ,connection_type_id ) VALUES (1,"Shoppig mall",89);
INSERT INTO building_type(id ,name ,connection_type_id ) VALUES (2,"Beauty Parler",90);
INSERT INTO building_type(id ,name ,connection_type_id ) VALUES (3,"Textile",91);
INSERT INTO building_type(id ,name ,connection_type_id ) VALUES (4,"Hardeware shop",92);
INSERT INTO building_type(id ,name ,connection_type_id ) VALUES (5,"Titen",93);
SELECT * FROM building_type;
UPDATE building_type SET name="mall" WHERE name="Shopping mall";
INSERT INTO building_details(id ,building_owner_name ,address ,building_type_id ,contact_number ,email_address) VALUES(1,"Arun","Gandhi St",11,"9089675645","abc@gmail.com");
INSERT INTO building_details(id ,building_owner_name ,address ,building_type_id ,contact_number ,email_address) VALUES(2,"Kumar","Nehru St",14,"9089623456","xyz@gmail.com");
INSERT INTO building_details(id ,building_owner_name ,address ,building_type_id ,contact_number ,email_address) VALUES(3,"Suresh","Boss St",13,"9089609824","kml@gmail.com");
SELECT * FROM building_details;
INSERT INTO meter(id ,meter_number,building_id ) VALUES (1,"50",11);
INSERT INTO meter(id ,meter_number,building_id ) VALUES (2,"51",14);
INSERT INTO meter(id ,meter_number,building_id ) VALUES (3,"52",15);
SELECT *FROM meter;
INSERT INTO bill(id,meter_id ,month,year,due_date ,total_units,payable_amount,is_payed,payment_date,fine_amount) VALUES(1,50,9,2020,'9/9/20',40,500,1,'15/9/20',30);
INSERT INTO bill(id,meter_id ,month,year,due_date ,total_units,payable_amount,is_payed,payment_date,fine_amount) VALUES(2,51,9,2020,'11/9/20',60,800,1,'17/9/20',80);
INSERT INTO bill(id,meter_id ,month,year,due_date ,total_units,payable_amount,is_payed,payment_date,fine_amount) VALUES(3,53,9,2020,'13/9/20',80,1000,1,'19/9/20',140);
SELECT* FROM bill;
DESC bill;
INSERT INTO electricity_reading(id,meter_id,day,h1 ,h2,h3,h4,h5,h6,h7,h8,h9,h10,h11,h12,h13,h14,h15,h16,h17,h18,h19,h20,h21,h22,h23,h24,total_units ) VALUES(1,50,'9/9/20',1,4,5,1,1,1,1,2,2,2,2,8,7,6,5,1,2,3,7,5,3,1,2,3,56);
INSERT INTO electricity_reading(id,meter_id,day,h1 ,h2,h3,h4,h5,h6,h7,h8,h9,h10,h11,h12,h13,h14,h15,h16,h17,h18,h19,h20,h21,h22,h23,h24,total_units ) VALUES(2,51,'11/9/20',3,4,5,6,7,8,9,1,2,3,4,4,3,2,1,1,1,0,0,0,3,4,1,2,80);
INSERT INTO electricity_reading(id,meter_id,day,h1 ,h2,h3,h4,h5,h6,h7,h8,h9,h10,h11,h12,h13,h14,h15,h16,h17,h18,h19,h20,h21,h22,h23,h24,total_units ) VALUES(3,53,'13/9/20',1,9,8,7,6,5,3,4,2,1,0,0,0,0,1,2,2,3,7,5,3,1,2,3,100);
SELECT* FROM electricity_reading;
DROP TABLE slab;
DROP TABLE building_details;